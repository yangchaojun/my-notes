##### 作用域与执行上下文

首先需要明确一点，作用域和执行上下文是不同的两个概念。

JavaScript是一种解释型语言，JavaScript的执行分为两个阶段：

1. 解释阶段
   - 词法分析
   - 语法分析
   - 作用域规则确定
2. 执行阶段
   - 创建执行上下文
   - 执行函数代码
   - 垃圾回收

两个阶段要做的事情不同，JavaScript解释阶段便会确定作用域规则，因此作用域在函数定义时就已经确定了，而不是在函数调用时确定。

而执行上下文是在函数执行之前创建的。执行上下文最明显的就是`this` 的指向是执行时确定的。

##### 作用域和执行上下文的区别

执行上下文在运行时确定，随时可能改变；作用域在定义时就确定，并且不会改变。

一个作用域下可能包含若干个上下文环境。有可能从来没有过上下文环境（函数从来就没有被调用过）；有可能有过，现在函数被调用完毕后，上下文环境被销毁了；有可能同时存在一个或多个（闭包）。**同一个作用域下，不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值**。